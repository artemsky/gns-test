webpackJsonp([2],{"7Ggy":function(t,e){},Aj31:function(t,e){},H7jN:function(t,e){},NHnr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a("7+uW"),i={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"container"},[e("div",{staticClass:"row justify-content-center p-5"},[e("div",{staticClass:"col-auto text-right"},[e("h1",{staticClass:"display-5"},[this._v("GNS Test App")]),this._v(" "),e("p",{staticClass:"lead"},[this._v("by Artem Kuznetsov")])])])])}]},s=a("VU/8")(null,i,!1,null,null,null).exports,r=a("Dd8w"),c=a.n(r),u=a("NYxO"),o="changePage",l="activeFilter",f="searchValue",d="updateStuff",h="stuffFiltered",p="stuffCount",v="currentPage",m="totalCurrency",g="totalCurrencyPerActivePage",_="filterOptions",b="activeFilter",C="searchValue",y={name:"stuff-header",data:function(){return{advancedSearchOpen:!1}},computed:c()({},Object(u.b)({filterOptions:_,activeFilter:b}),{searchValue:{get:function(){return this.$store.getters[C]},set:function(t){this.$store.dispatch(f,t)}}}),methods:{activateFilter:function(t){this.$store.dispatch(l,t),this.advancedSearchOpen=!1}}},x={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card-header text-right"},[a("div",{staticClass:"input-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.searchValue,expression:"searchValue"}],staticClass:"form-control from-control-sm",attrs:{type:"text","aria-label":"Search block",placeholder:"Search..."},domProps:{value:t.searchValue},on:{input:function(e){e.target.composing||(t.searchValue=e.target.value)}}}),t._v(" "),a("div",{staticClass:"input-group-append",class:{show:t.advancedSearchOpen}},[a("button",{staticClass:"btn btn-outline-secondary dropdown-toggle",attrs:{type:"button","aria-haspopup":"true"},on:{click:function(e){t.advancedSearchOpen=!t.advancedSearchOpen}}},[a("i",{staticClass:"fa fa-cogs"}),t._v(" "+t._s(t.activeFilter)+"\n      ")]),t._v(" "),a("div",{staticClass:"dropdown-menu",class:{show:t.advancedSearchOpen}},t._l(t.filterOptions,function(e,n){return a("a",{key:n,staticClass:"dropdown-item",attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.activateFilter(n)}}},[t._v(t._s(e))])}))])])])},staticRenderFns:[]};var P=a("VU/8")(y,x,!1,function(t){a("7Ggy")},"data-v-d805abe8",null).exports,F={name:"stuff-input",props:{value:[String,Number],id:String,type:{type:String,default:"text"}},data:function(){return{isEnabled:!1}},methods:{valueChanged:function(t){var e=t.target.value;"number"===t.target.type&&(e=+e),this.$emit("change",e)}}},S={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("input",{staticClass:"form-control",attrs:{readonly:!t.isEnabled,type:t.type},domProps:{value:t.value},on:{click:function(e){t.isEnabled=!0},blur:function(e){t.isEnabled=!1},change:t.valueChanged}})},staticRenderFns:[]};var w=a("VU/8")(F,S,!1,function(t){a("oJE5")},"data-v-9c7aa4c6",null).exports,V={name:"stuff-item",props:{item:Object,index:Number},components:{StuffInput:w},methods:{handleUpdate:function(t,e){this.$store.dispatch(d,{id:this.item.id,value:t,field:e})}}},E={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",[a("th",{attrs:{scope:"row"}},[t._v(t._s(t.index))]),t._v(" "),a("td",[a("stuff-input",{attrs:{value:t.item.name},on:{change:function(e){t.handleUpdate(e,"name")}}})],1),t._v(" "),a("td",[a("stuff-input",{attrs:{value:t.item.location},on:{change:function(e){t.handleUpdate(e,"location")}}})],1),t._v(" "),a("td",[a("stuff-input",{attrs:{value:t.item.currency,type:"number"},on:{change:function(e){t.handleUpdate(e,"currency")}}})],1)])},staticRenderFns:[]},O=a("VU/8")(V,E,!1,null,null,null).exports,L={name:"stuff-pagination",data:function(){return{prev:!1,next:!0}},computed:c()({},Object(u.b)({pagesCount:p,page:v})),methods:{changePage:function(t){var e=this.page+t;e>0&&e<=this.pagesCount&&(this.$store.dispatch(o,e),this.prev=!0,this.next=!0),1===e?(this.prev=!1,this.next=!0):e===this.pagesCount&&(this.prev=!0,this.next=!1)}}},$={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("nav",{attrs:{"aria-label":"Page navigation example"}},[a("ul",{staticClass:"pagination justify-content-center mb-0"},[a("li",{staticClass:"page-item",class:{disabled:!t.prev}},[a("a",{staticClass:"page-link",attrs:{href:"#",tabindex:"-1"},on:{click:function(e){e.preventDefault(),t.changePage(-1)}}},[t._v("Previous")])]),t._v(" "),a("li",{staticClass:"page-item disabled"},[a("span",{staticClass:"page-link"},[t._v(t._s(t.page)+" / "+t._s(t.pagesCount))])]),t._v(" "),a("li",{staticClass:"page-item",class:{disabled:!t.next}},[a("a",{staticClass:"page-link",attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.changePage(1)}}},[t._v("Next")])])])])},staticRenderFns:[]};var j={name:"stuff",components:{StuffHeader:P,StuffItem:O,StuffPagination:a("VU/8")(L,$,!1,function(t){a("H7jN")},null,null).exports},computed:c()({},Object(u.b)({stuff:"stuff",total:m,totalThisPage:g})),created:function(){this.$store.dispatch("fetchData")}},k={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"container"},[e("div",{staticClass:"card"},[e("stuff-header"),this._v(" "),e("div",{staticClass:"card-body p-0"},[e("div",{staticClass:"table-responsive-md"},[e("table",{staticClass:"table table-hover mb-0"},[this._m(0),this._v(" "),e("tbody",this._l(this.stuff,function(t,a){return e("stuff-item",{key:t.id,attrs:{item:t,index:a+1}})}))])])]),this._v(" "),e("div",{staticClass:"card-footer text-muted d-flex justify-content-between"},[e("stuff-pagination"),this._v(" "),e("div",{staticClass:"d-flex flex-column"},[e("div",[e("b",[this._v("Total:")]),this._v(" "+this._s(this.total))]),this._v(" "),e("div",[e("b",[this._v("Total at this page:")]),this._v(" "+this._s(this.totalThisPage))])])],1)],1)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("thead",[e("tr",[e("th",{attrs:{scope:"col"}},[this._v("#")]),this._v(" "),e("th",{attrs:{scope:"col"}},[this._v("Name")]),this._v(" "),e("th",{attrs:{scope:"col"}},[this._v("Location")]),this._v(" "),e("th",{attrs:{scope:"col"}},[this._v("Currency")])])])}]};var N={name:"app",components:{"app-header":s,Stuff:a("VU/8")(j,k,!1,function(t){a("j8ND")},"data-v-3662f032",null).exports}},U={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("app-header"),this._v(" "),e("stuff")],1)},staticRenderFns:[]};var A,D,T,R,G=a("VU/8")(N,U,!1,function(t){a("Aj31")},null,null).exports,H=a("Xxa5"),I=a.n(H),J=a("exGp"),M=a.n(J),W=a("fZjL"),Y=a.n(W),Z=a("bOdI"),z=a.n(Z),K=a("Zrlr"),X=a.n(K),q=a("wxAW"),B=a.n(q),Q=function(){function t(){X()(this,t)}return B()(t,null,[{key:"getData",value:function(){return a.e(0).then(a.bind(null,"YcAL"))}}]),t}();var tt,et,at,nt,it="global",st="name",rt="location",ct="currency",ut={state:{stuff:[],isLoading:!1,activeFilter:"global",searchValue:null,filterOptions:(A={},z()(A,it,"Global"),z()(A,st,"Name"),z()(A,rt,"Location"),z()(A,ct,"Currency"),A),activePage:1,itemsPerPage:10},getters:(D={},z()(D,"stuff",function(t,e){var a=(t.activePage-1)*t.itemsPerPage,n=t.activePage*t.itemsPerPage;return e[h].slice(a,n)}),z()(D,h,function(t){return t.searchValue?t.stuff.filter(function(e){return t.activeFilter===it?Y()(e).some(function(a){return e[a].toString().toLocaleLowerCase().includes(t.searchValue.toLocaleLowerCase())}):e[t.activeFilter].toString().toLocaleLowerCase().includes(t.searchValue.toLocaleLowerCase())}):t.stuff}),z()(D,p,function(t,e){return Math.ceil(e[h].length/t.itemsPerPage)}),z()(D,v,function(t){return t.activePage}),z()(D,g,function(t,e){return e.stuff.reduce(function(t,e){return t+parseInt(e.currency,10)},0)}),z()(D,m,function(t){return t.stuff.reduce(function(t,e){return t+parseInt(e.currency,10)},0)}),z()(D,"isLoading",function(t){return t.isLoading}),z()(D,_,function(t){return t.filterOptions}),z()(D,b,function(t){return t.activeFilter}),z()(D,C,function(t){return t.searchValue}),D),actions:(T={},z()(T,"fetchData",function(t){var e=this,a=t.commit;return M()(I.a.mark(function t(){var n;return I.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a("fetchStart"),t.prev=1,t.next=4,Q.getData();case 4:n=t.sent,a("fetchEnd",n),t.next=11;break;case 8:throw t.prev=8,t.t0=t.catch(1),new Error(t.t0);case 11:case"end":return t.stop()}},t,e,[[1,8]])}))()}),z()(T,"changeFilter",function(t,e){(0,t.commit)("updateFilter",e)}),z()(T,o,function(t,e){(0,t.commit)("updatePage",e)}),z()(T,l,function(t,e){(0,t.commit)("activeFilter",e)}),z()(T,f,(tt=function(t,e){(0,t.commit)("searchValue",e)},et=300,nt=void 0,function(){for(var t=this,e=arguments.length,a=Array(e),n=0;n<e;n++)a[n]=arguments[n];clearTimeout(nt),nt=setTimeout(function(){nt=null,at||tt.apply(t,a)},et),at&&!nt&&tt.apply(this,[].concat(a))})),z()(T,d,function(t,e){(0,t.commit)("updateStuff",e)}),T),mutations:(R={},z()(R,"fetchStart",function(t){t.isLoading=!0}),z()(R,"fetchEnd",function(t,e){t.stuff=e,t.isLoading=!1}),z()(R,"updateFilter",function(t,e){t.activeFilter=e}),z()(R,"updatePage",function(t,e){t.activePage=e}),z()(R,"activeFilter",function(t,e){t.activePage=1,t.activeFilter=e}),z()(R,"searchValue",function(t,e){t.activePage=1,t.searchValue=e}),z()(R,"updateStuff",function(t,e){var a=e.id,n=e.value,i=e.field,s=t.stuff.find(function(t){return t.id===a});s&&void 0!==s[i]&&(s[i]=n)}),R)};n.a.use(u.a);var ot=new u.a.Store({modules:{stuff:ut}});n.a.config.productionTip=!1,new n.a({el:"#app",store:ot,template:"<App/>",components:{App:G}})},j8ND:function(t,e){},oJE5:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.7b1d9a31f366bdb27ea0.js.map